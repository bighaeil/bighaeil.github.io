---
title: "CHEPTER 4 - 역할, 책임, 협력"
categories: 
  - oop
tags:
  - oop
  - review
last_modified_at: 2020-10-14T20:00:00+09:00
toc: true
toc_sticky: true
---

이하 내용은 도서 `오브젝트`를 읽고 나 나름대로 정리를 한 내용입니다.  

# 관점

객체지향의 핵심은

> 역할(role), 책임(responsibility), 협력(colloboration)

클래스, 상속, 지연 바인딩이 중요하지 않은 것은 아니지만 이는 `구현` 측면으로 객체지향 본질과는 다르다.


## 협력

> 협력이란 어떤 객체가 다른 객체에게 무언인가를 요청하는 것이다.

객체는 객체간의 협력을 위해 `메시지`를 전송하고 수신한 객체는 메시지를 처리하기 위해 `메서드`를 선택한다. 모든 객체는 이런 동작을 직접 결정한다.
그러면 객체는 상태와 행동을 어떻게 결정할까?  
객체 자신의 존재 이유는 다른 객체와의 상호작용 때문에 즉

> 객체가 참여하고 있는 협력으로 결정된다.

짧게 한 단어로 말하면

> 문맥(context)


## 책임

> 책임이란 객체가 수행하는 행동

객체의 행동이란 행위의 집합으로  
크레이그 라만(Craig Larman)은 분류에 따라 객체를 크게 하는 것(doing)과 아는 것(knowing)으로 나눴다.

이전 영화 예메 시스템을 다시 떠올려 보자.

`상영`의 책임은 무엇인가?
- 영화를 예매하는 것 - doing

`영화`의 책임은 무엇인가?
- 요금을 계산하는 것 - doing

`상영`이 알아야 하는 것(knowing)은 무엇인가?
- 상영할 영화

`영화`가 알아야 하는 것(knowing)은 무엇인가?
- 가격과 할인 정책

이전 포스트를 통해 영화 예메 시스템을 살펴보면 위 같은 객체의 책임이 구현되어 있다. 

아는 것과 하는 것의 크기는 변할 수 있다.  
처음의 책임보다 더 많은 객체를 알아야 하는 경우도 있을 수 있고 해야할 일이 많아 질 수도 있겠다.  
책임의 크기는 커질 수 있지만 각각의 객체가 아는 것과 하는 것을 책임지고 처리하면 그만이다.

> 객체의 설계에서 가장 중요한 것은 책임  

가끔 아무한테나 테스트를 물어보면 가장 많이 듣는 말이 가장 작은 단위로 쪼게라 한다. 아마 이런 책임을 의미하던게 아닌까 생각한다.  


## 역할

> 역할이란 협력안에서 수행하는 (교체할 수 있는) 책임의 집합

"영화를 예메하라"라는 동작은 사실 2개의 단계가 합쳐진 것이다.

- 영화를 예메할 수 있는 역할을 찾는 것
- 역할을 수행할 객체를 선택하는 것

어떤 객체든 영화를 예메할 수 있으면 협력에 참여할 수 있다. 이는 다양한 방식의 예메가 가능하다는 말이고 유연한 설계가 가능하다는 의미이다.

객체는 이런 역할을 통해 다양하고 재사용 가능한 협력을 얻을 수 있다.
