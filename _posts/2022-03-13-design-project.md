---
title: "프로젝트를 설계하다.(Back-End)"
categories:
    - spring
    - design
last_modified_at: 2022-03-13T18:40:00
toc: true
toc_sticky: true
---

# Design Project

이번 포스트는 그렇게 작다고 그렇게 크다고 볼 수 없는 프로젝트를 수행하면서 느낀점을 적어보려고 한다.

아마 아는 만큼보이는 특성상 아래 내용이 전부 맞다고 할 수 없지만 지금까지 설계한 경험 중에는 가장 잘 **디자인** 되지 않았나 기대를 하는 부분이다.

(틀린 부분을 피드백 받고 싶은 욕구도 존재하기에 포스트하는 것도 있다는 것도 인정하는 부분이다.)

# step 1

## 문제 인식

나는 아래와 같은 사항을 받았고 이를 처리해야할 서버를 개발해야 한다.

> 사용자에게 원하는 정보를 생성해서 제공하는 유료 제품을 판매한다.  
> 유료 정보를 만드는 서버는 이미 만들어져 있고 결제 시스템 및 유료 상품도 이미 만들어져 있는 상태이다.
> 단 유료 정보를 만들기 위해서는 많은 연산이 필요하기 때문에 요청(API)을 하면 약 5 ~ 10분까지도 걸릴 수 있다.(해당 처리는 병렬로 이뤄져서 요청에 한계는 없다고 친다.)  
> 해당 요청이 끝나고 이후 피드백이 없기 때문에 해당요청이 끝났는지 알고 싶으면 상태체크(API)를 사용해야 한다.  
> 유료 상품이기 때문에 성공적으로 정보가 만들어졌으면 상품을 결제완료 처리한다.  
> 알림, 결제실패 등 부수적인 요소는 제외한다.

내가 받은 처리사항을 간단하게 적어봤다. 분명 내가 받은 사항은 이렇게 적지 않았는데 막상 적으니 그렇게 길지 않은 것 같다.

(처음부터 이렇게 간단하게 파악했다면 얼마나 좋았을까. 문제는 복잡한 문서와 여러 차례 회의로 합의와 결정이 이루어진 결과물이라는 것이다.)

### 분리와 분해

분명 요구사항은 엄청 많았었다. 위 몇 줄로 줄일 수 있었던 것은 이미 결과를 아는 이후라서 그런 것인가? 아니면 대외비로 암축했기 때문인가?

처음 문제를 받고 나서 의미를 알 수 없는 명칭과 알 수 없는 처리들이 존재했기 때문에 나는 내가 이해할 수 있는 언어로 바꿔야 했다.

나는 심플한 것을 좋아한다. 그래 가장 심플한 것으로 표현하자.

> 단어

요구사항을 단어가 될때까지 잘라버리자.

```javascript
사용자
 - ***
 - 상품
 -- 결제
 -- 결제대기
 -- 결제완료
 -- 결제정보
 -- ***
 - ***
 - 소개
 - 검색
 - ***
 - ***

유료정보
 - ***
 - API
 -- 요청 API
 -- 상태체크 API
 -- 결과 API
 -- 다운로드
 -- ***
 - page
 -- 소개
 -- 확인
 -- 실패
 -- ***
 - 시뮬레이션
 - ***
 - ***
```
(~~시간이 되면 그림으로 옴겨적어야 겠다.~~)

대충 혹은 이상하게 보인다면 맞다. 분명 대충적은 것이고 나만 이해하는 단어로 정리한 것이니 당연하다. 문서에서 표현하고자 하는 내용에 구현해야 하는 사항을 대표하는 단어로 적어보았다.(***은 당연하겠지만 대외비이며 하나가 아니다.) 
